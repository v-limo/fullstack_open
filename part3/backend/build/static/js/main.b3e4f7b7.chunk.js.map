{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","service.js","App.js","index.js"],"names":["Filter","handleChangeSearch","search","className","htmlFor","name","value","onChange","PersonForm","handleName","newName","newNumber","handleNumber","handleSubmit","message","success","type","onClick","Persons","persons","handleDelete","map","number","id","url","App","useState","setNewName","setNumber","setSearch","setMessage","setSuccess","setPersons","useEffect","axios","get","then","response","data","style","display","flexDirection","backgroundColor","e","target","NewArry","filter","element","includes","console","log","length","preventDefault","newObject","newPerson","personsCopy","foundName","find","foundNumber","window","confirm","toupdate","person","_id","restpersons","updated","put","catch","error","toString","post","create","p","Object","delete","deleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b3e4f7b7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Filter = ({ handleChangeSearch, search }) => {\r\n  return (\r\n    <div>\r\n      <h3>Filter Contact</h3>\r\n      <label className='col-sm-2  col-form-label' htmlFor='search'>\r\n        Filter shown with:\r\n      </label>\r\n      <input\r\n        className='form-control col-6'\r\n        name='search'\r\n        value={search}\r\n        onChange={handleChangeSearch}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nexport const PersonForm = ({\r\n  handleName,\r\n  newName,\r\n  newNumber,\r\n  handleNumber,\r\n  handleSubmit,\r\n  message,\r\n  success,\r\n}) => (\r\n  <div>\r\n    <h2>Add New Contact</h2>\r\n    <form>\r\n      <div>\r\n        <label htmlFor='name' className='col-sm-2 col-form-label'>\r\n          Name :\r\n        </label>\r\n        <input\r\n          className='form-control col-6'\r\n          name='name'\r\n          value={newName}\r\n          onChange={handleName}\r\n        ></input>\r\n      </div>\r\n\r\n      <div>\r\n        <label htmlFor='number' className='col-sm-2 col-form-label'>\r\n          Number :\r\n        </label>\r\n        <input\r\n          className='form-control col-6'\r\n          name='number'\r\n          value={newNumber}\r\n          onChange={handleNumber}\r\n        />\r\n      </div>\r\n      <div className=' h6 continer-fluid my-2 col-6 text-danger font-weight-bold'>\r\n        {message}\r\n      </div>\r\n      <div>\r\n        <button\r\n          className='btn px-5 m-3 btn-success rounded '\r\n          type='submit'\r\n          onClick={handleSubmit}\r\n        >\r\n          Add Contact\r\n        </button>\r\n      </div>\r\n      <div className=' h6  continer-fluid  my-2  col-6 text-success font-weight-bold '>\r\n        {success}\r\n      </div>\r\n    </form>\r\n  </div>\r\n)\r\n","import React from 'react'\r\n\r\nexport const Persons = ({ persons, handleDelete }) => {\r\n  return (\r\n    <div className='border'>\r\n      <ol>\r\n        {persons.map(({ name, number, id }) => (\r\n          <li\r\n            key={id}\r\n            className=' d-flex  m-auto justify-content-between align-items-center'\r\n          >\r\n            <div>\r\n              <p>{name}</p>\r\n            </div>\r\n\r\n            <div>\r\n              <p>{number} </p>\r\n            </div>\r\n            <div>\r\n              <button\r\n                className='btn btn-danger rounded '\r\n                type='submit'\r\n                onClick={() => handleDelete(id)}\r\n              >\r\n                delete\r\n              </button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nconst url = '/api/persons'\r\n\r\nexport const getAll = () => {\r\n  const request = axios.get(url)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nexport const create = (newObject) => {\r\n  const request = axios.post(url, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nexport const update = (id, newObject) => {\r\n  const request = axios.put(`${url}/${id}`, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nexport const deleted = (id, Object) => {\r\n  const request = axios.delete(`${url}/${id}`, Object)\r\n  return request.then((response) => response.data)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Filter } from './Filter'\r\nimport { PersonForm } from './PersonForm'\r\nimport { Persons } from './Persons'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { getAll, create, update, deleted } from './service'\r\n\r\nconst App = () => {\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [message, setMessage] = useState('')\r\n  const [success, setSuccess] = useState('')\r\n  const [persons, setPersons] = useState([])\r\n\r\n  useEffect(() => {\r\n    getAll().then((data) => setPersons(data))\r\n  }, [])\r\n\r\n  const handleNumber = (e) => {\r\n    setNumber(e.target.value)\r\n  }\r\n\r\n  const handleName = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleChangeSearch = (e) => {\r\n    setSearch(e.target.value)\r\n    const personsCopy = [...persons]\r\n    let NewArry = personsCopy.filter((element) => element.name.includes(search))\r\n    console.log(NewArry.length)\r\n    setPersons(NewArry)\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    const name = persons.find((p) => id === p.id).name\r\n    const confirm = window.confirm(`Do you really want to delete ${name}? `)\r\n    if (confirm) {\r\n      const person = persons.find((p) => p.id === id)\r\n      deleted(id, person).then((deleted) => {\r\n        setPersons(persons.filter((person) => person.id !== id))\r\n        setMessage('')\r\n        setSuccess(`Successfully deleted ${person.name}`)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const newPerson = { name: newName, number: newNumber }\r\n    const personsCopy = [...persons]\r\n    const foundName = personsCopy.find(({ name }) => newName === name)\r\n    const foundNumber = personsCopy.find(({ number }) => newNumber === number)\r\n\r\n    if (!newName || !newNumber) {\r\n      if (!newName) {\r\n        setMessage(`Name cannot be empty`)\r\n      } else if (!newNumber) {\r\n        setMessage(`Number cannot be empty `)\r\n      }\r\n    } else if (foundNumber) {\r\n      setMessage(`${newNumber}  is already in the phonebook `)\r\n    } else if (foundName) {\r\n      const confirm = window.confirm(\r\n        `${newName} is already added to phonebook, do you want to replcae the number? `\r\n      )\r\n\r\n      if (confirm) {\r\n        const toupdate = personsCopy.find((person) => newName === person.name)\r\n        const _id = toupdate.id\r\n        const restpersons = personsCopy.filter(({ id }) => _id !== id)\r\n\r\n        const updated = { ...toupdate, number: newNumber }\r\n        update(_id, updated)\r\n          .then((updated) => {\r\n            setPersons([...restpersons, updated])\r\n            setNewName('')\r\n            setNumber('')\r\n            setMessage('')\r\n            setSuccess(`Successfully updated contact`)\r\n          })\r\n          .catch((error) => setMessage(error.response.data.error.toString()))\r\n      }\r\n    } else {\r\n      try {\r\n        create(newPerson)\r\n          .then((data) => {\r\n            setPersons([...personsCopy, data])\r\n            setNewName('')\r\n            setNumber('')\r\n            setMessage('')\r\n            setSuccess(`Successfully added ${newPerson.name}.`)\r\n          })\r\n          .catch((error) => setMessage(error.response.data.error.toString()))\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container-fluid w-100 h-100 m-0 p-0 bg-white'>\r\n      <div\r\n        className=' w-50 m-5 mx-auto container  rounded border'\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          backgroundColor: '#eeeeee',\r\n        }}\r\n      >\r\n        <h1>Phonebook</h1>\r\n        <ol>\r\n          <li>\r\n            <Filter {...{ handleChangeSearch, search }} />\r\n          </li>\r\n          <li>\r\n            <PersonForm\r\n              {...{\r\n                newName,\r\n                newNumber,\r\n                handleNumber,\r\n                handleName,\r\n                handleSubmit,\r\n                message,\r\n                success,\r\n              }}\r\n            />\r\n          </li>\r\n          <li>\r\n            <h2>Numbers: {persons.length}</h2>\r\n            <Persons {...{ persons, handleDelete }} />\r\n          </li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}